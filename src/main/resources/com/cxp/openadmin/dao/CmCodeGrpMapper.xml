<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cxp.openadmin.dao.CmCodeGrpMapper">

    <select id="getCmCodeGrpList" resultType="com.cxp.openadmin.domain.dto.backed.SaveCmCodeGrpDto" parameterType="Map">
        /* CmCodeGrpMapper.xml ,  getCmCodeGrpList */
        select
               t.group_cd
             , t.group_nm
             , t.group_nm_en
             , t.code_type
             , t.rem
             , t.use_yn
             , t.reg_id
             , t.reg_dt
             , t.mod_id
             , t.mod_dt
        from cm_code_grp t
        where 1=1
        <if test="paramsMap.groupCd != null and paramsMap.groupCd != ''">
            and t.group_cd like concat('%',#{paramsMap.groupCd},'%')
        </if>
        <if test="paramsMap.useYn != null and paramsMap.useYn != ''">
            and t.use_yn = #{paramsMap.useYn}
        </if>
        <if test="paramsMap.groupNm != null and paramsMap.groupNm != ''">
            and t.group_nm = #{paramsMap.groupNm}
        </if>
    </select>

    <select id="getCmCodeList" resultType="com.cxp.openadmin.domain.dto.backed.CmCodeDto" parameterType="Map">
        /* CmCodeGrpMapper.xml ,  getCmCodeList */
        select
              t.group_cd
            , t.code
            , t.code_nm
            , t.code_nm_en
            , t.sort
            , t.data1
            , t.data2
            , t.data3
            , t.data4
            , t.data5
            , t.data6
            , t.data7
            , t.data8
            , t.data9
            , t.data10
            , t.rem
            , t.use_yn
            , t.reg_id
            , t.reg_dt
            , t.mod_id
            , t.mod_dt
        from cm_code t
        where 1=1
        <if test="paramsMap.group_cd != null and paramsMap.group_cd != ''">
            and t.group_cd like concat('%',#{paramsMap.group_cd},'%')
        </if>
    </select>

    <insert id="insertCmCodeGrp" parameterType="com.cxp.openadmin.domain.dto.backed.SaveCmCodeGrpDto" statementType="PREPARED">
        /* CmCodeGrpMapper.xml ,  insertCmCodeGrp */
        insert into cm_code_grp
        (
              group_cd
            , group_nm
            , group_nm_en
            , code_type
            , rem
            , use_yn
            , reg_id
            , reg_dt
            , mod_id
            , mod_dt
        )
        values
        (
              #{paramsMap.group_cd}
            , #{paramsMap.group_nm}
            , #{paramsMap.group_nm_en}
            , #{paramsMap.code_type}
            , #{paramsMap.rem}
            , #{paramsMap.use_yn}
            , #{paramsMap.reg_id}
            , now()
            , #{paramsMap.mod_id}
            , now()
        )
    </insert>

    <update id="updateCmCodeGrp" parameterType="com.cxp.openadmin.domain.dto.backed.SaveCmCodeGrpDto" statementType="PREPARED">
        update cm_code_grp set
               group_nm    = #{paramsMap.group_nm}
             , group_nm_en = #{paramsMap.group_nm_en}
             , code_type   = #{paramsMap.code_type}
             , rem         = #{paramsMap.rem}
             , use_yn      = #{paramsMap.use_yn}
             , mod_id      = #{paramsMap.mod_id}
             , mod_dt      = now()
        where group_cd = #{paramsMap.group_cd}
    </update>
    <delete id="deleteCmCodeGrp" parameterType="com.cxp.openadmin.domain.dto.backed.SaveCmCodeGrpDto">
        delete from cm_code_grp
        where group_cd = #{group_cd}
    </delete>

    <insert id="insertCmCode" parameterType="com.cxp.openadmin.domain.dto.backed.CmCodeDto">
        /* CmCodeGrpMapper.xml ,  insertCmCodeGrp */
        insert into cm_code
        (
              group_cd
            , code
            , code_nm
            , code_nm_en
            , sort
            , data1
            , data2
            , data3
            , data4
            , data5
            , data6
            , data7
            , data8
            , data9
            , data10
            , rem
            , use_yn
            , reg_id
            , reg_dt
            , mod_id
            , mod_dt
        )
        VALUES
        (
              #{group_cd}
            , #{code}
            , #{code_nm}}
            , #{code_nm_en}
            , #{sort}
            , #{data1}
            , #{data2}
            , #{data3}
            , #{data4}
            , #{data5}
            , #{data6}
            , #{data7}
            , #{data8}
            , #{data9}
            , #{data10}
            , #{rem}
            , #{use_yn}
            , #{reg_id}
            , now()
            , #{mod_id}
            , now()
        )
    </insert>

    <update id="updateCmCode" parameterType="com.cxp.openadmin.domain.dto.backed.CmCodeDto">
        update cm_code set
              group_cd = #{group_cd}
            , code = #{code}
            , code_nm = #{code_nm}
            , code_nm_en = #{code_nm_en}
            , sort = #{sort}
            , data1 = #{data1}
            , data2 = #{data2}
            , data3 = #{data3}
            , data4 = #{data4 =}
            , data5 = #{data5}
            , data6 = #{data6}
            , data7 = #{data7}
            , data8 = #{data8}
            , data9 = #{data9}
            , data10 = #{data10}
            , rem = #{rem}
            , use_yn = #{use_yn}
            , mod_id = #{mod_id}
            , mod_dt = now()
        where group_cd = #{group_cd}
          and code     = #{code}
    </update>
    <delete id="deleteCmCode" parameterType="com.cxp.openadmin.domain.dto.backed.CmCodeDto">
        delete from cm_code
        where group_cd = #{group_cd}
          and code     = #{code}
    </delete>



</mapper>